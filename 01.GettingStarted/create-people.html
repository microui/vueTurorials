<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="styles/demo.css"/>
</head>

<body>
<div id="app">

    <fieldset>
        <legend>
            Create New Person
        </legend>
        <div class="form-group">
            <label>name</label>
            <input v-model="activePeople.name"/>
        </div>
        <div class="form-group">
            <label>age</label>
            <input v-model="activePeople.age"/>
        </div>
        <div class="form-group">
            <label>sex</label>
            <select v-model="activePeople.sex">
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select>
        </div>
        <button @click="addItem">create</button>
    </fieldset>
    <table>
        <thead>
        <tr>
            <th>Name</th>
            <th>Age</th>
            <th>Sex</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
            <tr v-for="(item, index) in people">
                <td>{{item.name}}</td>
                <td>{{item.age}}</td>
                <td>{{item.sex}}</td>
                <td class='text-center'><button @click="deleteItem(index)">Delete</button></td>
            </tr>
        </tbody>
    </table>
</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script>
    var vm = new Vue({
        el: '#app',
        data: {
            activePeople: {
              name: '',
              age: '',
              sex: 'Male',
            },
            people: [
                {
                    name: 'Lily',
                    age: 15,
                    sex: 'Male'
                },
                {
                    name: 'Jone',
                    age: 65,
                    sex: 'Male'
                },
                {
                    name: 'Jack',
                    age: 22,
                    sex: 'Female'
                }
            ]
        },
        methods: {
            deleteItem: function(index){
                this.people.splice(index, 1);
            },
            addItem: function () {
                this.people.push(this.activePeople);
                // 不加这句会导致添加后，再修改input中的值，之前添加的值会跟着改
                this.activePeople = {
                    name: '',
                    age: '',
                    sex: 'Male',
                }
            }
        }
    })
</script>

</html>
